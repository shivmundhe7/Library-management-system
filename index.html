<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Login</title>
    <style>
        /* Avenir Next font for a sleek, modern look */
        @import url('https://fonts.googleapis.com/css2?family=Avenir+Next:wght@400;500;600;700&display=swap');

        /* ===== Body & Background ===== */
        body {
            font-family: 'Avenir Next', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
            background-size: cover;
            color: #f0f8ff;
            /* Almost white text for high contrast */
            box-sizing: border-box;
            /* Ensures padding and border are included in the element's total width and height */
        }

        /* ===== Main Title ===== */
        h2 {
            font-weight: 700;
            font-size: 3em;
            letter-spacing: 0.1em;
            margin-bottom: 2rem;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            /* 50% black text shadow */
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-align: center;
            /* This centers the text for all screen sizes */
        }

        h2:hover {
            transform: scale(1.05);
            text-shadow: 0 0 15px rgba(0, 0, 0, 0.7);
            /* Slightly darker shadow on hover */
        }

        /* ===== Form Container ===== */
        .form-box {
            width: 350px;
            max-width: 90%;
            /* Add max-width for smaller screens */
            padding: 2.5rem;
            border-radius: 12px;
            background: rgba(10, 20, 30, 0.7);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            transition: all 0.5s ease-in-out;
        }

        .form-box:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
        }

        h3 {
            font-size: 1.8em;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 2rem;
            color: #fff;
        }

        /* ===== Input Fields ===== */
        input {
            width: 100%;
            /* Make width 100% and use padding for internal spacing */
            padding: 12px;
            margin-bottom: 1.25rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.05);
            color: #f0f8ff;
            font-size: 1rem;
            font-weight: 500;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            box-sizing: border-box;
            /* Crucial for consistent sizing with padding */
        }

        input:last-of-type {
            margin-bottom: 1.5rem;
        }

        input::placeholder {
            color: rgba(240, 248, 255, 0.6);
        }

        input:focus {
            border-color: #f0f8ff;
            box-shadow: 0 0 10px rgba(240, 248, 255, 0.4);
        }

        /* ===== Buttons ===== */
        button {
            width: 100%;
            padding: 15px 20px;
            margin-top: 0.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            /* Ensures padding is included in width */
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }

        /* Primary Login/Signup button */
        button[onclick^="login"],
        button[onclick^="signup"] {
            background: #2a688b;
            color: #fff;
        }

        button[onclick^="login"]:hover,
        button[onclick^="signup"]:hover {
            background: #1a4d66;
        }

        /* Link buttons */
        .link-btn {
            background: transparent;
            color: #fff;
            font-size: 0.9em;
            text-decoration: none;
            text-transform: none;
            font-weight: 400;
            margin-top: 1.5rem;
            border: none;
            padding: 10px 0;
            box-shadow: none;
        }

        .link-btn:hover {
            text-decoration: underline;
            transform: none;
            box-shadow: none;
        }

        /* ===== Responsive design ===== */
        @media (max-width: 768px) {
            h2 {
                font-size: 2.5em;
                margin-bottom: 1.5rem;
            }

            .form-box {
                padding: 2rem;
            }

            h3 {
                font-size: 1.6em;
                margin-bottom: 1.5rem;
            }
        }

        @media (max-width: 450px) {
            h2 {
                font-size: 2em;
            }

            .form-box {
                width: 90%;
                padding: 1.5rem;
            }

            h3 {
                font-size: 1.4em;
                margin-bottom: 1.25rem;
            }

            input {
                padding: 10px;
                font-size: 0.95rem;
            }

            button {
                padding: 12px 15px;
                font-size: 1em;
            }
        }
    </style>
</head>

<body>
    <h2>Library Management System</h2>

    <div id="signupDiv" class="form-box">
        <h3>Signup</h3>
        <input type="text" id="signupName" placeholder="Full Name" required>
        <input type="text" id="signupMobile" placeholder="Mobile Number" required>
        <input type="email" id="signupEmail" placeholder="Email" required>
        <input type="password" id="signupPassword" placeholder="Password" required>
        <button onclick="signup()">Signup</button>
        <button class="link-btn" onclick="showLogin()">Already have an account? Login</button>
    </div>

    <div id="loginDiv" class="form-box" style="display: none;">
        <h3>Login</h3>
        <input type="email" id="loginEmail" placeholder="Email" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button onclick="login()">Login</button>
        <button class="link-btn" onclick="showSignup()">Donâ€™t have an account? Signup</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword }
            from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
        import { getDatabase, ref, set }
            from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

        // Firebase configuration and initialization
        const firebaseConfig = {
            apiKey: "AIzaSyCiLh2qyz_z3AYRafRRiGHJQdEPYIMRYAk",
            authDomain: "library-management-cc7dd.firebaseapp.com",
            databaseURL: "https://library-management-cc7dd-default-rtdb.firebaseio.com",
            projectId: "library-management-cc7dd",
            storageBucket: "library-management-cc7dd.firebasestorage.app",
            messagingSenderId: "393274759659",
            appId: "1:393274759659:web:260174e3b3aa4d888fe1ae",
            measurementId: "G-ZW0V646QZ3"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        // --- Signup Function ---
        window.signup = function () {
            const name = document.getElementById("signupName").value;
            const mobile = document.getElementById("signupMobile").value;
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    set(ref(db, "users/" + user.uid), {
                        name: name,
                        mobile: mobile,
                        email: email
                    });
                    alert("Signup Successful âœ… Now please login!");
                    showLogin();
                })
                .catch((error) => {
                    alert(error.message);
                });
        };

        // --- Login Function ---
        window.login = function () {
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            signInWithEmailAndPassword(auth, email, password)
                .then(() => {
                    alert("Login Successful ðŸŽ‰");
                    window.location.href = "dashboard.html";
                })
                .catch((error) => {
                    alert(error.message);
                });
        };

        // --- Toggle Forms ---
        window.showLogin = function () {
            document.getElementById("signupDiv").style.display = "none";
            document.getElementById("loginDiv").style.display = "block";
        };

        window.showSignup = function () {
            document.getElementById("loginDiv").style.display = "none";
            document.getElementById("signupDiv").style.display = "block";
        };
    </script>
</body>

</html>